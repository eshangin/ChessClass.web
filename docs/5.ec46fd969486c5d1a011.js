(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{S7ND:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),i=u("pMnS"),o=u("ZYCi"),r=u("Ip0R"),s=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),c=t.nb({encapsulation:0,styles:[[""]],data:{}});function a(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,15,"nav",[["class","navbar navbar-expand-lg navbar-light bg-light"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,14,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,8,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,2,"a",[["class","nav-link"],["routerLink","/my/classes"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,5).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(5,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u041c\u043e\u0438 \u043a\u043b\u0430\u0441\u0441\u044b"])),(l()(),t.pb(7,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,2,"a",[["class","nav-link"],["routerLink","/my/puzzles"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,9).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(9,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u0417\u0430\u0434\u0430\u0447\u0438"])),(l()(),t.pb(11,0,null,null,4,"ul",[["class","navbar-nav"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,2,"a",[["class","nav-link"],["routerLink","/logout"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,14).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(14,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u0412\u044b\u0445\u043e\u0434"])),(l()(),t.pb(16,0,null,null,2,"div",[["class","container pt-3"]],null,null,null,null,null)),(l()(),t.pb(17,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.ob(18,212992,null,0,o.n,[o.b,t.P,t.j,[8,null],t.h],null,null)],function(l,n){l(n,5,0,"/my/classes"),l(n,9,0,"/my/puzzles"),l(n,14,0,"/logout"),l(n,18,0)},function(l,n){l(n,4,0,t.zb(n,5).target,t.zb(n,5).href),l(n,8,0,t.zb(n,9).target,t.zb(n,9).href),l(n,13,0,t.zb(n,14).target,t.zb(n,14).href)})}function p(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-teacher-area",[],null,null,null,a,c)),t.ob(1,114688,null,0,s,[],null,null)],function(l,n){l(n,1,0)},null)}var b=t.lb("app-teacher-area",s,p,{},{},[]),d=u("t/Na"),f=function(){function l(l){this.http=l}return l.prototype.getClasses=function(){return this.http.get("api/classes")},l.prototype.createClass=function(l){return this.http.post("api/classes",{name:l})},l.prototype.getClass=function(l){return this.http.get("api/classes/"+l)},l.ngInjectableDef=t.T({factory:function(){return new l(t.X(d.c))},token:l,providedIn:"root"}),l}(),h=u("gIcY"),m=function(){function l(l,n){this.activeModal=l,this.classService=n}return l.prototype.ngOnInit=function(){this.form=new h.g({name:new h.e("",h.u.required)})},l.prototype.onSubmit=function(){var l=this;this.form.valid&&this.classService.createClass(this.name.value).subscribe(function(n){return l.activeModal.close({class:n})})},Object.defineProperty(l.prototype,"name",{get:function(){return this.form.get("name")},enumerable:!0,configurable:!0}),l}(),g=u("sZPF"),z=function(){function l(l,n){this.activeModal=l,this.pupilService=n}return l.prototype.ngOnInit=function(){this.form=new h.g({firstName:new h.e("",h.u.required),lastName:new h.e("",h.u.required)})},l.prototype.onSubmit=function(){var l=this;this.form.valid&&this.pupilService.createPupil(this.classId,this.firstName.value,this.lastName.value).subscribe(function(n){return l.activeModal.close({pupil:n})})},Object.defineProperty(l.prototype,"firstName",{get:function(){return this.form.get("firstName")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lastName",{get:function(){return this.form.get("lastName")},enumerable:!0,configurable:!0}),l}(),v=function(){function l(l,n){this.classService=l,this.modalService=n,this.gClasses=[Array()]}return l.prototype.ngOnInit=function(){var l=this;this.classService.getClasses().subscribe(function(n){n.forEach(function(n){return l.addClassToGroup(n)})})},l.prototype.onCreateClassClick=function(){var l=this;this.modalService.open(m,{ariaLabelledBy:"modal-basic-title"}).result.then(function(n){n.class.uiState="active",l.addClassToGroup(n.class)},function(){})},l.prototype.onAddPupilClick=function(l){var n=this.modalService.open(z,{ariaLabelledBy:"modal-basic-title"});n.componentInstance.classId=l.id,n.componentInstance.className=l.name,n.result.then(function(n){l.pupils.push(n.pupil)},function(){})},l.prototype.addClassToGroup=function(l){2==this.gClasses[this.gClasses.length-1].length&&this.gClasses.push(Array()),this.gClasses[this.gClasses.length-1].push(l)},l}(),k=u("4GxJ"),C=t.nb({encapsulation:0,styles:[[".card-footer[_ngcontent-%COMP%]{padding:5px}"]],data:{animation:[{type:7,name:"anim",definitions:[{type:1,expr:"void => active",animation:[{type:6,styles:{height:"0",opacity:"0"},offset:null},{type:4,styles:{type:6,styles:{height:"*",opacity:1},offset:null},timings:".50s ease"}],options:null}],options:{}}]}});function y(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,0,"img",[["width","20"]],[[8,"src",4],[8,"title",0]],null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(4,null,["",""])),(l()(),t.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""])),(l()(),t.pb(7,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,3,"a",[["routerLink","/my/print-codes"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,9).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(9,671744,null,0,o.l,[o.k,o.a,r.i],{target:[0,"target"],queryParams:[1,"queryParams"],routerLink:[2,"routerLink"]},null),t.Cb(10,{pupilId:0}),(l()(),t.Hb(-1,null,["\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"]))],function(l,n){var u=l(n,10,0,n.context.$implicit.id);l(n,9,0,"_blank",u,"/my/print-codes")},function(l,n){l(n,2,0,n.context.$implicit.picture,n.context.$implicit.firstName+" "+n.context.$implicit.lastName),l(n,4,0,n.context.$implicit.firstName),l(n,6,0,n.context.$implicit.lastName),l(n,8,0,t.zb(n,9).target,t.zb(n,9).href)})}function x(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,34,"div",[["class","col-sm-6"]],[[24,"@anim",0]],null,null,null,null)),(l()(),t.pb(1,0,null,null,33,"div",[["class","card mb-4"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,2,"a",[["class","btn btn-link p-0"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,4).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(4,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(5,null,["",""])),(l()(),t.pb(6,0,null,null,22,"div",[["class","card-body p-0"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,21,"table",[["class","table mb-0"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),t.pb(9,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\xa0"])),(l()(),t.pb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0418\u043c\u044f"])),(l()(),t.pb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0424\u0430\u043c\u0438\u043b\u0438\u044f"])),(l()(),t.pb(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"])),(l()(),t.pb(18,0,null,null,10,"tbody",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,y)),t.ob(20,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(21,0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),t.pb(22,0,null,null,1,"td",[["colspan","3"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\xa0"])),(l()(),t.pb(24,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.pb(25,0,null,null,3,"a",[["routerLink","/my/print-codes"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,26).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(26,671744,null,0,o.l,[o.k,o.a,r.i],{target:[0,"target"],queryParams:[1,"queryParams"],routerLink:[2,"routerLink"]},null),t.Cb(27,{classId:0}),(l()(),t.Hb(-1,null,["\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u0435"])),(l()(),t.pb(29,0,null,null,5,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),t.pb(30,0,null,null,1,"button",[["class","btn btn-sm btn-link"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onAddPupilClick(l.context.$implicit)&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430"])),(l()(),t.pb(32,0,null,null,2,"a",[["class","btn btn-sm btn-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,33).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(33,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"]))],function(l,n){l(n,4,0,t.rb(1,"/my/classes/",n.context.$implicit.id,"")),l(n,20,0,n.context.$implicit.pupils);var u=l(n,27,0,n.context.$implicit.id);l(n,26,0,"_blank",u,"/my/print-codes"),l(n,33,0,t.rb(1,"/my/classes/",n.context.$implicit.id,"/add-homework"))},function(l,n){l(n,0,0,n.context.$implicit.uiState),l(n,3,0,t.zb(n,4).target,t.zb(n,4).href),l(n,5,0,n.context.$implicit.name),l(n,25,0,t.zb(n,26).target,t.zb(n,26).href),l(n,32,0,t.zb(n,33).target,t.zb(n,33).href)})}function P(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,x)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function I(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onCreateClassClick()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441"])),(l()(),t.hb(16777216,null,null,1,null,P)),t.ob(4,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.component.gClasses)},null)}function S(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-dashboard",[],null,null,null,I,C)),t.ob(1,114688,null,0,v,[f,k.u],null,null)],function(l,n){l(n,1,0)},null)}var w=t.lb("app-dashboard",v,S,{},{},[]),M=u("Yljz"),F=u("B1F/"),H=u("pxjt"),O=u("ORMj"),J=u("PVm/"),T=u("VNr4"),N=u("hH8v"),$=u("F/us"),A=u("xa0L"),E=u("9xWy"),L=function(){function l(l,n,u,t){this.route=l,this.homeworkService=n,this.chessHelperService=u,this.classService=t,this.revertPositoinTimeouts=new Map}return l.prototype.ngOnInit=function(){var l=this,n=this.route.snapshot.paramMap.get("id");Object(T.a)([this.classService.getClass(n),this.homeworkService.getClassHomeworks(n)]).subscribe(function(n){l.class=n[0];var u=l.class.pupils.length;l.homeworks=n[1].map(function(n){return{id:n.id,dateCreated:n.dateCreated,puzzles:n.puzzles.map(function(t){var e={id:t.id,pgn:t.pgn,description:t.description,fixedPercent:Math.ceil(n.pupilStats.filter(function(l){return-1!=l.fixedPuzzleIds.indexOf(t.id)}).length/u*100)},i="";switch(t.puzzleType){case E.a.Standard:var o=l.chessHelperService.parsePuzzle(t.pgn);i=o.initialFen,e.standardPuzzleSolution={moves:o.solutionMovements.map(function(l){return l.san}),blackIsFirst:"b"==o.turn};break;case E.a.FindAllChecks:i=t.fen,e.findAllChecksPuzzleSolution={totalChecks:l.chessHelperService.findAllChecks(t.fen).length}}return e.initialFen=i,e.cgConfig={fen:i,viewOnly:!0,coordinates:!1},e})}})})},l.prototype.onMoveClick=function(l,n){for(var u=new A(n.initialFen),t=0;t<=l.moveIndex;t++)u.move(l.moves[t]);var e=u.fen();n.cgConfig=$.extend({},n.cgConfig,{fen:e}),this.scheduleFenReset(n)},l.prototype.scheduleFenReset=function(l){var n=this,u=this.revertPositoinTimeouts.get(l.id);u&&clearTimeout(u),this.revertPositoinTimeouts.set(l.id,setTimeout(function(){n.revertPositoinTimeouts.delete(l.id),l.cgConfig=$.extend({},l.cgConfig,{fen:l.initialFen})},2e3))},l}(),D=t.nb({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{padding:10px}.b-board-overlay[_ngcontent-%COMP%]{position:absolute;width:300px;height:300px;opacity:.6;z-index:1000;background-color:#fff}.b-board-overlay[_ngcontent-%COMP%]:hover{opacity:0}"]],data:{}});function q(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"li",[["class","list-inline-item mr-4 mb-4"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(2,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.pb(3,0,null,null,0,"img",[["width","30"]],[[8,"src",4]],null,null,null,null)),(l()(),t.Hb(4,null,[" ",""]))],function(l,n){l(n,2,0,t.rb(1,"/my/pupils/",n.context.$implicit.id,""))},function(l,n){l(n,1,0,t.zb(n,2).target,t.zb(n,2).href),l(n,3,0,n.context.$implicit.picture),l(n,4,0,n.context.$implicit.name)})}function K(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,0,"div",[["class","b-board-overlay"]],null,null,null,null,null))],null,null)}function _(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-chess-move-list",[["class","d-block"]],null,[[null,"moveClick"]],function(l,n,u){var t=!0;return"moveClick"===n&&(t=!1!==l.component.onMoveClick(u,l.parent.context.$implicit)&&t),t},M.b,M.a)),t.ob(1,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"],movesClickable:[2,"movesClickable"]},{moveClick:"moveClick"})],function(l,n){l(n,1,0,n.parent.context.$implicit.standardPuzzleSolution.moves,n.parent.context.$implicit.standardPuzzleSolution.blackIsFirst,!0)},null)}function R(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" \u0412\u0441\u0435\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0448\u0430\u0445\u0430: "])),(l()(),t.pb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(3,null,["",""]))],null,function(l,n){l(n,3,0,n.parent.context.$implicit.findAllChecksPuzzleSolution.totalChecks)})}function j(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041d\u0438\u043a\u0442\u043e \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0448\u0438\u043b"]))],null,null)}function B(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,0,"i",[["class","fas fa-check text-success"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" \u0432\u0441\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0438 \u0440\u0435\u0448\u0438\u043b\u0438."]))],null,null)}function G(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["","% \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0440\u0435\u0448\u0438\u043b\u0438"]))],null,function(l,n){l(n,1,0,n.parent.context.$implicit.fixedPercent)})}function V(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,25,"div",[["class","card align-top mr-3 mb-3 pull-left d-inline-block"],["style","width: 202px;"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,K)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(3,0,null,null,1,"app-pure-chessground",[],null,null,null,H.b,H.a)),t.ob(4,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},null),(l()(),t.pb(5,0,null,null,20,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,19,"small",[],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.Hb(9,null,["",""])),(l()(),t.hb(16777216,null,null,1,null,_)),t.ob(11,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,R)),t.ob(13,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(14,0,null,null,0,"hr",[["class","my-1"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,7,"div",[["class","p-0"]],null,null,null,null,null)),t.ob(16,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.hb(16777216,null,null,1,null,j)),t.ob(18,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,B)),t.ob(20,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,G)),t.ob(22,16384,null,0,r.q,[t.P,t.M,r.o],null,null),(l()(),t.pb(23,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,24).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(24,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"]))],function(l,n){var u=n.component;l(n,2,0,100==n.context.$implicit.fixedPercent),l(n,4,0,200,n.context.$implicit.cgConfig),l(n,11,0,n.context.$implicit.standardPuzzleSolution),l(n,13,0,n.context.$implicit.findAllChecksPuzzleSolution),l(n,16,0,n.context.$implicit.fixedPercent),l(n,18,0,0),l(n,20,0,100),l(n,24,0,t.rb(3,"/my/classes/",u.class.id,"/homeworks/",n.parent.context.$implicit.id,"/puzzles/",n.context.$implicit.id,""))},function(l,n){l(n,9,0,n.context.$implicit.description),l(n,23,0,t.zb(n,24).target,t.zb(n,24).href)})}function U(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,7,"li",[["class","mb-4"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e ",""])),t.Db(3,4),(l()(),t.pb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,V)),t.ob(6,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(7,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,6,0,n.context.$implicit.puzzles)},function(l,n){var u=t.Ib(n,2,0,l(n,3,0,t.zb(n.parent,0),n.context.$implicit.dateCreated,"d MMMM, H:mm",void 0,"ru"));l(n,2,0,u)})}function Z(l){return t.Jb(0,[t.Bb(0,r.d,[t.v]),(l()(),t.pb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.pb(3,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,q)),t.ob(5,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(6,0,null,null,4,"h3",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" \u0414\u043e\u043c\u0430\u0448\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f "])),(l()(),t.pb(8,0,null,null,2,"a",[["class","btn btn-primary btn-sm"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,9).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(9,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435"])),(l()(),t.pb(11,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,U)),t.ob(13,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var u=n.component;l(n,5,0,u.class.pupils),l(n,9,0,t.rb(1,"/my/classes/",u.class.id,"/add-homework")),l(n,13,0,u.homeworks)},function(l,n){l(n,2,0,n.component.class.name),l(n,8,0,t.zb(n,9).target,t.zb(n,9).href)})}function X(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-school-class",[],null,null,null,Z,D)),t.ob(1,114688,null,0,L,[o.a,J.a,N.a,f],null,null)],function(l,n){l(n,1,0)},null)}var Y=t.lb("app-school-class",L,X,{},{},[]),W=u("XzYM"),Q=u("3x9O"),ll=u("5+yH"),nl=u("1zQ8"),ul=u("sjK5"),tl=u("lGQG"),el=u("Cd6q"),il=function(){function l(l,n,u,t){this.route=l,this.puzzleService=n,this.homeworkService=u,this.chessHelperService=t,this.viewMode="list",this.whoFixed=[],this.whoNotFixed=[],this.PuzzleType=E.a}return l.prototype.ngOnInit=function(){this.homeworkId=this.route.snapshot.paramMap.get("homeworkId"),this.puzzleId=this.route.snapshot.paramMap.get("puzzleId"),this.loadStatistics()},l.prototype.viewChat=function(l){var n=this;this.selectedPupil=l,this.viewMode="chat",this.homeworkService.getAttempts(l.id,this.homeworkId,this.puzzleId).subscribe(function(l){n.puzzleFixAttempts=l.sort(function(l,n){return l.dateCreated>n.dateCreated?-1:1}),n.puzzleCorrectFixAttempts=n.puzzleFixAttempts.filter(function(l){return n.isCorrectAttempt(l)})})},l.prototype.closeChat=function(){this.selectedPupil=null,this.viewMode="list",this.loadStatistics()},l.prototype.isCorrectAttempt=function(l){switch(this.puzzle.puzzleType){case E.a.Standard:return Object($._)(l.moves).isEqual(this.puzzleSolution.moves);case E.a.FindAllChecks:return-1!=this.puzzleSolution.allChecks.map(function(l){return l.san}).indexOf(l.moves[0])}},l.prototype.isCorrectFixAttemptsContanMove=function(l){return-1!=this.puzzleCorrectFixAttempts.findIndex(function(n){return-1!=n.moves.indexOf(l)})},l.prototype.currentPuzzleIsFixedByPupil=function(l){return-1!=this.whoFixed.findIndex(function(n){return n.pupil.id==l.id})},l.prototype.loadStatistics=function(){var l=this;this.puzzleService.getPuzzleFixStatistics(this.homeworkId,this.puzzleId).subscribe(function(n){switch(l.class=n.class,l.homework=n.homework,l.puzzle=n.puzzle,l.puzzle.puzzleType){case E.a.Standard:var u=l.chessHelperService.parsePuzzle(l.puzzle.pgn);l.puzzleFen=u.initialFen,l.puzzleSolution={moves:u.solutionMovements.map(function(l){return l.san}),blackIsFirst:"b"==u.turn};break;case E.a.FindAllChecks:l.puzzleFen=l.puzzle.fen,l.puzzleSolution={allChecks:l.chessHelperService.findAllChecks(l.puzzle.fen),turn:new A(l.puzzle.fen).turn()}}l.whoFixed=n.statistics.filter(function(l){return l.fixedByPupil}),l.whoNotFixed=n.statistics.filter(function(l){return!l.fixedByPupil})})},l}(),ol=t.nb({encapsulation:0,styles:[[".bg-light-green[_ngcontent-%COMP%]{background-color:#d8f6df}"]],data:{}});function rl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-chess-move-list",[["class","d-block"]],null,null,null,M.b,M.a)),t.ob(1,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"],movesClickable:[2,"movesClickable"]},null)],function(l,n){var u=n.component;l(n,1,0,u.puzzleSolution.moves,u.puzzleSolution.blackIsFirst,!1)},null)}function sl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-chess-move",[["class","badge badge-light"]],null,null,null,W.b,W.a)),t.ob(2,573440,null,0,Q.a,[],{move:[0,"move"],moveColor:[1,"moveColor"]},null)],function(l,n){l(n,2,0,n.context.$implicit.san,n.component.puzzleSolution.turn)},null)}function cl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" \u0412\u0441\u0435\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0448\u0430\u0445\u0430: "])),(l()(),t.pb(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(3,null,["",""])),(l()(),t.pb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,sl)),t.ob(6,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,6,0,n.component.puzzleSolution.allChecks)},function(l,n){l(n,3,0,n.component.puzzleSolution.allChecks.length)})}function al(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function bl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,2,null,al)),t.ob(2,540672,null,0,r.r,[t.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t.Cb(3,{statItems:0,title:1}),(l()(),t.hb(16777216,null,null,2,null,pl)),t.ob(5,540672,null,0,r.r,[t.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t.Cb(6,{statItems:0,title:1})],function(l,n){var u=n.component,e=l(n,3,0,u.whoNotFixed,"\u0415\u0449\u0435 \u043d\u0435 \u0440\u0435\u0448\u0438\u043b\u0438");l(n,2,0,e,t.zb(n.parent,29));var i=l(n,6,0,u.whoFixed,"\u0423\u0436\u0435 \u0440\u0435\u0448\u0438\u043b\u0438");l(n,5,0,i,t.zb(n.parent,29))},null)}function dl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,2,null,dl)),t.ob(2,540672,null,0,r.r,[t.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t.Cb(3,{pupil:0})],function(l,n){var u=l(n,3,0,n.component.selectedPupil);l(n,2,0,u,t.zb(n.parent,28))},null)}function hl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-chess-move",[["class","badge badge-light"]],null,null,null,W.b,W.a)),t.ob(2,573440,null,0,Q.a,[],{move:[0,"move"],moveColor:[1,"moveColor"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.san,n.component.puzzleSolution.turn)},null)}function ml(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,hl)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.component.isCorrectFixAttemptsContanMove(n.context.$implicit.san))},null)}function gl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0415\u0449\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"])),(l()(),t.hb(16777216,null,null,1,null,ml)),t.ob(4,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.component.puzzleSolution.allChecks)},null)}function zl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,7,"div",[["class","mb-2 p-1"]],null,null,null,null,null)),t.ob(1,278528,null,0,r.j,[t.t,t.u,t.k,t.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t.pb(2,0,null,null,2,"small",[["class","d-block"]],null,null,null,null,null)),(l()(),t.Hb(3,null,["#"," | ",""])),t.Db(4,4),(l()(),t.pb(5,0,null,null,2,"small",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,1,"app-chess-move-list",[],null,null,null,M.b,M.a)),t.ob(7,114688,null,0,F.a,[],{moves:[0,"moves"]},null)],function(l,n){l(n,1,0,"mb-2 p-1",n.component.isCorrectAttempt(n.context.$implicit)?"bg-light-green":"bg-light"),l(n,7,0,n.context.$implicit.moves)},function(l,n){var u=n.component.puzzleFixAttempts.length-n.context.index,e=t.Ib(n,3,1,l(n,4,0,t.zb(n.parent.parent,0),n.context.$implicit.dateCreated,"d MMMM, H:mm",void 0,"ru"));l(n,3,0,u,e)})}function vl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041d\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0440\u0435\u0448\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"]))],null,null)}function kl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,23,"div",[["class","card mb-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,6,"div",[["class","card-header bg-white"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"div",[["class","col mr-auto"]],null,null,null,null,null)),(l()(),t.Hb(4,null,[""," ",""])),(l()(),t.pb(5,0,null,null,2,"div",[["class","col text-right"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,1,"button",[["class","btn btn-light btn-sm"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.closeChat()&&t),t},null,null)),(l()(),t.pb(7,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(9,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,8,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,gl)),t.ob(12,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(13,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043f\u044b\u0442\u043a\u0438"])),(l()(),t.hb(16777216,null,null,1,null,zl)),t.ob(16,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.hb(16777216,null,null,1,null,vl)),t.ob(18,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(19,0,null,null,4,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t.pb(20,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"])),(l()(),t.pb(22,0,null,null,1,"app-homework-puzzle-chat",[],null,null,null,ll.b,ll.a)),t.ob(23,114688,null,0,nl.a,[ul.a,tl.a],{homeworkId:[0,"homeworkId"],puzzleId:[1,"puzzleId"],pupilId:[2,"pupilId"]},null)],function(l,n){var u=n.component;l(n,12,0,u.puzzle.puzzleType==u.PuzzleType.FindAllChecks&&u.puzzleFixAttempts.length>0&&!u.currentPuzzleIsFixedByPupil(n.context.pupil)),l(n,16,0,u.puzzleFixAttempts),l(n,18,0,0==u.puzzleFixAttempts.length),l(n,23,0,u.homeworkId,u.puzzleId,n.context.pupil.id)},function(l,n){l(n,4,0,n.context.pupil.firstName,n.context.pupil.lastName)})}function Cl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(2,null,[""," ",""])),(l()(),t.pb(3,0,null,null,2,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,1,"button",[["class","btn btn-link p-0"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.viewChat(l.context.$implicit.pupil)&&t),t},null,null)),(l()(),t.Hb(5,null,[" "," "])),(l()(),t.pb(6,0,null,null,3,"td",[["class","text-right"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,2,"button",[["class","btn btn-link p-0"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.viewChat(l.context.$implicit.pupil)&&t),t},null,null)),(l()(),t.Hb(8,null,[" "," "])),(l()(),t.pb(9,0,null,null,0,"i",[["class","far fa-comment"]],null,null,null,null,null))],null,function(l,n){l(n,2,0,n.context.$implicit.pupil.firstName,n.context.$implicit.pupil.lastName),l(n,5,0,n.context.$implicit.fixAttemptsCount),l(n,8,0,n.context.$implicit.chatCommentsCount)})}function yl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.pb(3,0,null,null,11,"table",[["class","table"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,7,"thead",[["class","thead-light"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\xa0"])),(l()(),t.pb(8,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043f\u044b\u0442\u043a\u0438"])),(l()(),t.pb(10,0,null,null,1,"th",[["class","text-right"],["style","width: 116px"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"])),(l()(),t.pb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Cl)),t.ob(14,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,14,0,n.parent.context.statItems)},function(l,n){l(n,2,0,n.parent.context.title)})}function xl(l){return t.Jb(0,[(l()(),t.hb(16777216,null,null,1,null,yl)),t.ob(1,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(0,null,null,0))],function(l,n){l(n,1,0,n.context.statItems.length)},null)}function Pl(l){return t.Jb(0,[t.Bb(0,r.d,[t.v]),(l()(),t.pb(1,0,null,null,5,"p",[["class","lead"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(3,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(4,null,["",""])),(l()(),t.Hb(5,null,[", \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043e\u0442 ","\n"])),t.Db(6,4),(l()(),t.pb(7,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,12,"div",[["class","col-4"]],null,null,null,null,null)),(l()(),t.pb(9,0,null,null,2,"app-pure-chessground",[["class","mb-3"]],null,null,null,H.b,H.a)),t.ob(10,13287424,null,0,O.a,[t.k,t.h],{config:[0,"config"]},null),t.Cb(11,{fen:0,viewOnly:1}),(l()(),t.pb(12,0,null,null,2,"p",[["class","mb-1"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.Hb(14,null,["",""])),(l()(),t.pb(15,0,null,null,5,"div",[],null,null,null,null,null)),t.ob(16,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.hb(16777216,null,null,1,null,rl)),t.ob(18,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,cl)),t.ob(20,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.pb(21,0,null,null,6,"div",[["class","col-8"]],null,null,null,null,null)),(l()(),t.pb(22,0,null,null,5,"div",[],null,null,null,null,null)),t.ob(23,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.hb(16777216,null,null,1,null,bl)),t.ob(25,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,fl)),t.ob(27,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(0,[["pupil_chat",2]],null,0,null,kl)),(l()(),t.hb(0,[["stat_table",2]],null,0,null,xl))],function(l,n){var u=n.component;l(n,3,0,t.rb(1,"/my/classes/",u.class.id,""));var e=l(n,11,0,u.puzzleFen,!0);l(n,10,0,e),l(n,16,0,u.puzzle.puzzleType),l(n,18,0,u.PuzzleType.Standard),l(n,20,0,u.PuzzleType.FindAllChecks),l(n,23,0,u.viewMode),l(n,25,0,"list"),l(n,27,0,"chat")},function(l,n){var u=n.component;l(n,2,0,t.zb(n,3).target,t.zb(n,3).href),l(n,4,0,u.class.name);var e=t.Ib(n,5,0,l(n,6,0,t.zb(n,0),u.homework.dateCreated,"d MMMM, H:mm",void 0,"ru"));l(n,5,0,e),l(n,14,0,u.puzzle.description)})}function Il(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-puzzle-stat",[],null,null,null,Pl,ol)),t.ob(1,114688,null,0,il,[o.a,el.a,J.a,N.a],null,null)],function(l,n){l(n,1,0)},null)}var Sl=t.lb("app-puzzle-stat",il,Il,{},{},[]),wl=u("0yOS"),Ml=u("5b9N"),Fl=function(){function l(l,n,u){this.route=l,this.pupilService=n,this.homeworkService=u}return l.prototype.ngOnInit=function(){var l=this,n=this.route.snapshot.paramMap.get("id");this.pupilService.getPupil(n).subscribe(function(n){return l.pupil=n}),this.homeworkService.getHomeworks(n).subscribe(function(n){l.homeworks=n,console.log(n)})},l}(),Hl=t.nb({encapsulation:0,styles:[[""]],data:{}});function Ol(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","pull-left d-inline-block mr-3 mb-3"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-standard-puzzle",[["style","width: 300px"]],null,null,null,wl.b,wl.a)),t.ob(2,573440,null,0,Ml.b,[N.a],{pgn:[0,"pgn"]},null)],function(l,n){l(n,2,0,n.context.$implicit.pgn)},null)}function Jl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e ",""])),t.Db(3,4),(l()(),t.pb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Ol)),t.ob(6,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(7,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,6,0,n.context.$implicit.puzzles)},function(l,n){var u=t.Ib(n,2,0,l(n,3,0,t.zb(n.parent.parent,0),n.context.$implicit.dateCreated,"d MMMM, h:mm",void 0,"ru"));l(n,2,0,u)})}function Tl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,0,"img",[["width","30"]],[[8,"src",4]],null,null,null,null)),(l()(),t.Hb(3,null,[" "," "])),(l()(),t.hb(16777216,null,null,1,null,Jl)),t.ob(5,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.homeworks)},function(l,n){var u=n.component;l(n,2,0,u.pupil.picture),l(n,3,0,u.pupil.name)})}function Nl(l){return t.Jb(0,[t.Bb(0,r.d,[t.v]),(l()(),t.hb(16777216,null,null,1,null,Tl)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.pupil)},null)}function $l(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-teacher-pupil",[],null,null,null,Nl,Hl)),t.ob(1,114688,null,0,Fl,[o.a,g.a,J.a],null,null)],function(l,n){l(n,1,0)},null)}var Al=t.lb("app-teacher-pupil",Fl,$l,{},{},[]),El=u("F/XL"),Ll=function(){function l(l){this.chessHelperService=l,this.stepNumber=1,this.editorResized=!1,this.recorderResized=!1,this.engine=new A,this.recorderMoves=[],this.recorderBlackStartsGame=!1,this.puzzleCreated=new t.m,this.PUZZLE_DESCRIPTION_CONROL_NAME="puzzleDescr"}return l.prototype.ngOnInit=function(){},Object.defineProperty(l.prototype,"puzzleDescr",{get:function(){return this.formGroup.get(this.PUZZLE_DESCRIPTION_CONROL_NAME)},enumerable:!0,configurable:!0}),l.prototype.ngOnChanges=function(l){if(l.stepNumber)switch(this.stepNumber){case 2:this.setRecorderConfig(this.editorCgApi.getFen());break;case 3:this.formGroup.addControl(this.PUZZLE_DESCRIPTION_CONROL_NAME,new h.e("",h.u.required));break;case 4:this.puzzleCreated.emit({pgn:this.engine.pgn(),description:this.puzzleDescr.value})}},l.prototype.onEditorInitialized=function(l){this.editorCgApi=l},l.prototype.onRecorderInitialized=function(l){this.recorderCgApi=l},l.prototype.ngAfterViewChecked=function(){var l=this;switch(this.stepNumber){case 1:this.editorResized||(this.editorResized=!0,setTimeout(function(){l.editorCgApi.redrawAll()},0));break;case 2:this.recorderResized||(this.recorderResized=!0,setTimeout(function(){l.recorderCgApi.redrawAll()},0))}},l.prototype.cancelLastRecorderMove=function(){this.recorderMoves.pop();var l,n=this.engine.undo(),u=this.engine.history({verbose:!0});if(u.length>0){var t=u[u.length-1];l={from:t.from,to:t.to}}this.undoCgMove(this.recorderCgApi,{from:n.from,to:n.to},l),this.prepareCgForNextMove(this.recorderCgApi,this.engine)},l.prototype.prepareCgForNextMove=function(l,n){var u=0==n.history().length?"both":"b"==n.turn()?"black":"white",t=this.chessHelperService.getChessgroundPossibleDests(n.fen());l.set({turnColor:"both"==u?void 0:u,movable:{color:u,free:"both"==u,dests:t}})},l.prototype.onRecorderMove=function(l,n,u){var t=!0;if(0==this.recorderMoves.length){var e=this.detectWhoStartGame(l,n);this.engine.load(this.chessHelperService.tryFixFen(l,e))?this.recorderBlackStartsGame="b"==e:(console.log("incorrect position",l),t=!1)}if(t){var i=this.engine.move({from:n,to:u});i?(this.recorderMoves.push(i.san),this.prepareCgForNextMove(this.recorderCgApi,this.engine)):this.undoCgMove(this.recorderCgApi,{from:n,to:u})}},l.prototype.undoCgMove=function(l,n,u){l.move(n.to,n.from),l.set({lastMove:u?[u.from,u.to]:void 0})},l.prototype.detectWhoStartGame=function(l,n){var u=new A;return u.load(this.chessHelperService.tryFixFen(l)),u.get(n).color},l.prototype.setRecorderConfig=function(l){var n=this;this.recorderCgConfig={fen:l,movable:{free:!0,color:"both",showDests:!1,events:{after:function(u,t,e){return n.onRecorderMove(l,u,t)}}},premovable:{enabled:!1},drawable:{enabled:!0},draggable:{showGhost:!0,distance:0,autoDistance:!1,deleteOnDropOff:!0,centerPiece:!0},highlight:{lastMove:!0},resizable:!0}},l}(),Dl=function(){function l(){}return l.prototype.validateAllFormFields=function(l){var n=this;Object.keys(l.controls).forEach(function(u){var t=l.get(u);t instanceof h.e?t.markAsTouched({onlySelf:!0}):t instanceof h.g&&n.validateAllFormFields(t)})},l.ngInjectableDef=t.T({factory:function(){return new l},token:l,providedIn:"root"}),l}(),ql=function(){function l(l,n){this.activeModal=l,this.formHelperService=n,this.wizardStep=1}return l.prototype.ngOnInit=function(){this.form=new h.g({})},l.prototype.goToNextStep=function(){this.form.valid?this.wizardStep++:this.formHelperService.validateAllFormFields(this.form)},l.prototype.onPuzzleCreated=function(l){var n=this;setTimeout(function(){n.activeModal.close(l)},0)},l}(),Kl=function(){function l(l,n,u){this.activeModal=l,this.puzzleService=n,this.chessHelperService=u,this.isLoading=!0,this.PuzzleType=E.a,this.currentPage=1,this.selectedPuzzles=[]}return l.prototype.ngOnInit=function(){this.loadPuzzles(1)},l.prototype.onPageChange=function(l){this.loadPuzzles(l)},l.prototype.onPuzzleSelectToggle=function(l,n){n?this.selectedPuzzles.push(l):this.selectedPuzzles=this.selectedPuzzles.filter(function(n){return n.id!=l.id})},l.prototype.isSelected=function(l){return this.selectedPuzzles.some(function(n){return n.id==l.id})},l.prototype.onOkClick=function(){this.activeModal.close({puzzles:this.selectedPuzzles})},l.prototype.onCancelClick=function(){this.activeModal.dismiss()},l.prototype.loadPuzzles=function(l){var n=this;this.puzzleService.getPuzzles({forClassId:this.forClassId,count:8,page:l}).subscribe(function(l){n.totalRecords=l.totalRecords,n.selectablePuzzles=l.items.map(function(l){var u,t="";switch(l.puzzleType){case E.a.Standard:var e=n.chessHelperService.parsePuzzle(l.pgn);t=e.initialFen,u={moves:e.solutionMovements.map(function(l){return l.san}),turn:e.turn};break;case E.a.FindAllChecks:t=l.fen,u={allChecks:n.chessHelperService.findAllChecks(l.fen),turn:n.chessHelperService.getTurn(l.fen)}}return{puzzle:l,fen:t,solution:u}}),n.isLoading=!1})},l}(),_l=function(){function l(l,n,u,t,e,i,o,r,s,c){this.route=l,this.classService=n,this.pupilService=u,this.puzzleService=t,this.router=e,this.toastr=i,this.formBuilder=o,this.modalService=r,this.homeworkService=s,this.chessHelperService=c,this.myClasses=[],this.classPupils=[],this.selectedPuzzles=[],this.addPuzzlesCount=3,this.PuzzleType=E.a}return l.prototype.ngOnInit=function(){var l=this;this.form=this.formBuilder.group({formPuzzles:this.formBuilder.array([],h.u.required)}),this.classId=this.route.snapshot.paramMap.get("id"),this.classService.getClasses().subscribe(function(n){l.myClasses=n,l.className=n.find(function(n){return n.id==l.classId}).name}),this.loadPupils()},l.prototype.onClassChange=function(){this.loadPupils()},l.prototype.onAddPuzzles=function(){var l=this;this.getPuzzles(this.addPuzzlesCount).subscribe(function(n){l.pushPuzzles(n.items)})},l.prototype.removePuzzle=function(l){this.selectedPuzzles.splice(l,1),this.formPuzzles.removeAt(l)},l.prototype.onAddFromFavoriteClick=function(){var l=this,n=this.modalService.open(Kl,{ariaLabelledBy:"modal-basic-title",size:"lg"});n.componentInstance.forClassId=this.classId,n.result.then(function(n){l.pushPuzzles(n.puzzles)},function(){})},l.prototype.onCreateNewPuzzleClick=function(){var l=this;this.modalService.open(ql,{ariaLabelledBy:"modal-basic-title",size:"lg"}).result.then(function(n){l.pushPuzzle({pgn:n.pgn,description:n.description})},function(){})},l.prototype.pushPuzzles=function(l){var n=this;l.forEach(function(l){n.pushPuzzle(l)})},l.prototype.pushPuzzle=function(l){var n,u="";switch(l.puzzleType){case E.a.Standard:var t=this.chessHelperService.parsePuzzle(l.pgn);u=t.initialFen,n={moves:t.solutionMovements.map(function(l){return l.san}),turn:t.turn};break;case E.a.FindAllChecks:u=l.fen,n={allChecks:this.chessHelperService.findAllChecks(l.fen),turn:this.chessHelperService.getTurn(l.fen)}}this.selectedPuzzles.push({puzzle:l,fen:u,pgn:l.pgn,solution:n}),this.formPuzzles.push(new h.e)},Object.defineProperty(l.prototype,"formPuzzles",{get:function(){return this.form.get("formPuzzles")},enumerable:!0,configurable:!0}),l.prototype.onApplyHomeworkClick=function(){var l=this;this.form.valid&&this.saveNewPuzzles().subscribe(function(n){var u=l.selectedPuzzles.filter(function(l){return!!l.puzzle.id}).map(function(l){return l.puzzle.id}),t=n.map(function(l){return l.id});l.homeworkService.addHomework(l.classId,u.concat(t)).subscribe(function(){l.toastr.success("\u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043e!"),l.router.navigate(["my/classes",l.classId])})})},l.prototype.saveNewPuzzles=function(){var l=this,n=this.selectedPuzzles.filter(function(l){return!l.puzzle.id});return 0==n.length?Object(El.a)([]):Object(T.a)(n.map(function(n){return l.puzzleService.createPuzzle(n.pgn,n.puzzle.description)}))},l.prototype.getPuzzles=function(l){return this.puzzleService.getPuzzles({count:l,sort:"random"})},l.prototype.loadPupils=function(){var l=this;return this.pupilService.getPupils(this.classId).subscribe(function(n){l.classPupils=n})},l}(),Rl=u("SZbH"),jl=t.nb({encapsulation:0,styles:[[".b-homework-puzzle[_ngcontent-%COMP%]{position:relative}"]],data:{}});function Bl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.ob(1,147456,null,0,h.q,[t.k,t.E,[2,h.t]],{ngValue:[0,"ngValue"]},null),t.ob(2,147456,null,0,h.z,[t.k,t.E,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t.Hb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Gl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","text-danger mb-3"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0434\u0430\u0447\u0443"]))],null,null)}function Vl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-chess-move-list",[["class","d-block"]],null,null,null,M.b,M.a)),t.ob(1,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit.solution.moves,"b"==n.parent.context.$implicit.solution.turn)},null)}function Ul(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-chess-move",[["class","badge badge-light"]],null,null,null,W.b,W.a)),t.ob(2,573440,null,0,Q.a,[],{move:[0,"move"],moveColor:[1,"moveColor"]},null)],function(l,n){l(n,2,0,n.context.$implicit.san,n.parent.parent.context.$implicit.solution.turn)},null)}function Zl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Ul)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.solution.allChecks)},null)}function Xl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,15,"div",[["class","card d-inline-block mr-3 mb-3 b-homework-puzzle align-top"],["style","width:182px"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"app-pure-chessground",[],null,null,null,H.b,H.a)),t.ob(2,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},null),t.Cb(3,{fen:0,coordinates:1,viewOnly:2}),(l()(),t.pb(4,0,null,null,11,"div",[["class","card-body p-2"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,7,"small",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.Hb(8,null,["",""])),(l()(),t.hb(16777216,null,null,1,null,Vl)),t.ob(10,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,Zl)),t.ob(12,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(13,0,null,null,0,"hr",[["class","mt-1 mb-2"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,1,"button",[["class","btn btn-light btn-sm"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removePuzzle(l.context.index)&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c"]))],function(l,n){var u=n.component,t=l(n,3,0,n.context.$implicit.fen,!1,!0);l(n,2,0,180,t),l(n,10,0,n.context.$implicit.puzzle.puzzleType==u.PuzzleType.Standard),l(n,12,0,n.context.$implicit.puzzle.puzzleType==u.PuzzleType.FindAllChecks)},function(l,n){l(n,8,0,n.context.$implicit.puzzle.description)})}function Yl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"div",[["class","mb-2"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Xl)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(3,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,2,0,n.component.selectedPuzzles)},null)}function Wl(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,2).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(2,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(3,null,["",""])),(l()(),t.Hb(-1,null,[", \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"])),(l()(),t.pb(5,0,null,null,44,"form",[["class","mt-2"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.zb(l,7).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,7).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.onApplyHomeworkClick()&&e),e},null,null)),t.ob(6,16384,null,0,h.w,[],null,null),t.ob(7,540672,[["ngForm",4]],0,h.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,h.b,null,[h.h]),t.ob(9,16384,null,0,h.n,[[4,h.b]],null,null),(l()(),t.pb(10,0,null,null,0,"div",[["class","form-inline mb-2"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,31,"div",[],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,1,"h3",[["class","mb-3"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0412\u044b\u0431\u043e\u0440 \u0437\u0430\u0434\u0430\u0447"])),(l()(),t.pb(14,0,null,null,24,"div",[["class","card mb-3"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,23,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(16,0,null,null,14,"div",[["class","form-inline"]],null,null,null,null,null)),(l()(),t.pb(17,0,null,null,1,"button",[["class","btn btn-link p-1"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onAddPuzzles()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"])),(l()(),t.pb(19,0,null,null,9,"select",[["class","form-control form-control-sm mr-2"],["name","addPuzzlesCount"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var e=!0,i=l.component;return"change"===n&&(e=!1!==t.zb(l,20).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.zb(l,20).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.addPuzzlesCount=u)&&e),e},null,null)),t.ob(20,16384,null,0,h.t,[t.E,t.k],null,null),t.Eb(1024,null,h.k,function(l){return[l]},[h.t]),t.ob(22,671744,null,0,h.p,[[2,h.b],[8,null],[8,null],[6,h.k]],{name:[0,"name"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t.Cb(23,{standalone:0}),t.Eb(2048,null,h.l,null,[h.p]),t.ob(25,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),t.hb(16777216,null,null,2,null,Bl)),t.ob(27,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),t.Ab(28,3),(l()(),t.pb(29,0,null,null,1,"span",[["class","align-middle"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\u0438"])),(l()(),t.pb(31,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.pb(32,0,null,null,1,"button",[["class","btn btn-link p-1"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onAddFromFavoriteClick()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"])),(l()(),t.pb(34,0,null,null,1,"span",[["class","align-middle"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437 \u0431\u0430\u043d\u043a\u0430 \u0437\u0430\u0434\u0430\u0447"])),(l()(),t.pb(36,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(37,0,null,null,1,"button",[["class","btn btn-link p-1"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onCreateNewPuzzleClick()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"])),(l()(),t.hb(16777216,null,null,1,null,Gl)),t.ob(40,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,Yl)),t.ob(42,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(43,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.pb(44,0,null,null,2,"a",[["class","btn btn-light"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.zb(l,45).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.ob(45,671744,null,0,o.l,[o.k,o.a,r.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(l()(),t.Hb(-1,null,["\xa0 "])),(l()(),t.pb(48,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c"]))],function(l,n){var u=n.component;l(n,2,0,t.rb(1,"/my/classes/",u.classId,"")),l(n,7,0,u.form);var e=u.addPuzzlesCount,i=l(n,23,0,!0);l(n,22,0,"addPuzzlesCount",e,i);var o=l(n,28,0,2,3,4);l(n,27,0,o),l(n,40,0,u.formPuzzles.invalid&&t.zb(n,7).submitted),l(n,42,0,u.selectedPuzzles.length),l(n,45,0,t.rb(1,"/my/classes/",u.classId,""))},function(l,n){var u=n.component;l(n,1,0,t.zb(n,2).target,t.zb(n,2).href),l(n,3,0,u.className),l(n,5,0,t.zb(n,9).ngClassUntouched,t.zb(n,9).ngClassTouched,t.zb(n,9).ngClassPristine,t.zb(n,9).ngClassDirty,t.zb(n,9).ngClassValid,t.zb(n,9).ngClassInvalid,t.zb(n,9).ngClassPending),l(n,19,0,t.zb(n,25).ngClassUntouched,t.zb(n,25).ngClassTouched,t.zb(n,25).ngClassPristine,t.zb(n,25).ngClassDirty,t.zb(n,25).ngClassValid,t.zb(n,25).ngClassInvalid,t.zb(n,25).ngClassPending),l(n,44,0,t.zb(n,45).target,t.zb(n,45).href)})}function Ql(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-add-homework",[],null,null,null,Wl,jl)),t.ob(1,114688,null,0,_l,[o.a,f,g.a,el.a,o.k,Rl.j,h.d,k.u,J.a,N.a],null,null)],function(l,n){l(n,1,0)},null)}var ln=t.lb("app-add-homework",_l,Ql,{},{},[]),nn=function(){function l(l,n){this.puzzleService=l,this.chessHelperService=n,this.searchItems=[]}return l.prototype.ngOnInit=function(){var l=this;this.puzzleService.getPuzzles().subscribe(function(n){l.searchItems=n.items.map(function(n){var u="";switch(n.puzzleType){case E.a.Standard:u=l.chessHelperService.parsePuzzle(n.pgn).initialFen;break;case E.a.FindAllChecks:u=n.fen}return{puzzle:n,fen:u}})})},l.prototype.onAddToFavoriteClick=function(l){l.isFavorite=!l.isFavorite,l.isFavorite?this.puzzleService.addToFavorites(l.id).subscribe():this.puzzleService.removeFromFavorites(l.id).subscribe()},l}(),un=t.nb({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{padding:5px}"]],data:{}});function tn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,10,"div",[["class","card mr-3 mb-3 pull-left d-inline-block"],["style","width: 252px;"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"app-pure-chessground",[],null,null,null,H.b,H.a)),t.ob(2,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},null),t.Cb(3,{fen:0,viewOnly:1,coordinates:2}),(l()(),t.pb(4,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,4,"div",[["class","pull-right"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,3,"button",[["class","btn btn-link"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onAddToFavoriteClick(l.context.$implicit.puzzle)&&t),t},null,null)),(l()(),t.pb(7,0,null,null,2,"i",[["class","fa-star text-warning"]],null,null,null,null,null)),t.ob(8,278528,null,0,r.j,[t.t,t.u,t.k,t.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(9,{fas:0,far:1}),(l()(),t.pb(10,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){var u=l(n,3,0,n.context.$implicit.fen,!0,!1);l(n,2,0,250,u);var t=l(n,9,0,n.context.$implicit.puzzle.isFavorite,!n.context.$implicit.puzzle.isFavorite);l(n,8,0,"fa-star text-warning",t)},null)}function en(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,tn)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(3,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null))],function(l,n){l(n,2,0,n.component.searchItems)},null)}function on(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-search-puzzles",[],null,null,null,en,un)),t.ob(1,114688,null,0,nn,[el.a,N.a],null,null)],function(l,n){l(n,1,0)},null)}var rn=t.lb("app-search-puzzles",nn,on,{},{},[]),sn=function(){function l(l,n){this.route=l,this.pupilService=n,this.pupils=[]}return l.prototype.ngOnInit=function(){var l=this,n=this.route.snapshot.queryParamMap.get("classId");if(n)this.pupilService.getPupils(n).subscribe(function(n){var u;(u=l.pupils).push.apply(u,n),l.print()});else{var u=this.route.snapshot.queryParamMap.get("pupilId");u&&this.pupilService.getPupil(u).subscribe(function(n){l.pupils.push(n),l.print()})}},l.prototype.print=function(){window.print()},l}(),cn=t.nb({encapsulation:2,styles:[["html{font-size:35px}.b-print-block{border-width:3px!important}@media print{*{-webkit-print-color-adjust:exact!important;color-adjust:exact!important}}"]],data:{}});function an(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,10,"div",[["class","border border-dark d-inline-block rounded b-print-block mr-5 mb-5"],["style","border-radius: 25px !important; overflow: hidden"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,0,"div",[["class","border-bottom"],["style","height: 50px; background: url('./assets/chess-board-colors.jpg') repeat !important;"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,8,"div",[["class","p-2 px-3 pb-3"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["TODO :: \u0438\u043c\u044f \u0441\u0430\u0439\u0442\u0430"])),(l()(),t.pb(5,0,null,null,1,"p",[["class","lead text-center"]],null,null,null,null,null)),(l()(),t.Hb(6,null,[""," ",""])),(l()(),t.pb(7,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041a\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0430: "])),(l()(),t.pb(9,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(10,null,["",""]))],null,function(l,n){l(n,6,0,n.context.$implicit.firstName,n.context.$implicit.lastName),l(n,10,0,n.context.$implicit.accessCode)})}function pn(l){return t.Jb(0,[(l()(),t.hb(16777216,null,null,1,null,an)),t.ob(1,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,1,0,n.component.pupils)},null)}function bn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-print-codes",[],null,null,null,pn,cn)),t.ob(1,114688,null,0,sn,[o.a,g.a],null,null)],function(l,n){l(n,1,0)},null)}var dn=t.lb("app-print-codes",sn,bn,{},{},[]),fn=u("9AJC"),hn=t.nb({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{padding:5px}.card-columns[_ngcontent-%COMP%]{-webkit-column-count:4;column-count:4}"]],data:{}});function mn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","text-center m-5"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 "])),(l()(),t.pb(2,0,null,null,0,"i",[["class","fas fa-circle-notch fa-spin"]],null,null,null,null,null))],null,null)}function gn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-chess-move-list",[["class","d-block"]],null,null,null,M.b,M.a)),t.ob(1,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit.solution.moves,"b"==n.parent.context.$implicit.solution.turn)},null)}function zn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-chess-move",[["class","badge badge-light"]],null,null,null,W.b,W.a)),t.ob(2,573440,null,0,Q.a,[],{move:[0,"move"],moveColor:[1,"moveColor"]},null)],function(l,n){l(n,2,0,n.context.$implicit.san,n.parent.parent.context.$implicit.solution.turn)},null)}function vn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,zn)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.parent.context.$implicit.solution.allChecks)},null)}function kn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,18,"div",[["class","card d-inline-block"],["style","width: 175px;"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,2,"app-pure-chessground",[],null,null,null,H.b,H.a)),t.ob(2,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},null),t.Cb(3,{fen:0,viewOnly:1,coordinates:2}),(l()(),t.pb(4,0,null,null,14,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,7,"small",[],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.Hb(8,null,["",""])),(l()(),t.hb(16777216,null,null,1,null,gn)),t.ob(10,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,vn)),t.ob(12,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(13,0,null,null,0,"hr",[["class","my-1"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,4,"div",[["class","custom-control custom-checkbox"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],[[8,"id",0],[8,"checked",0]],[[null,"change"]],function(l,n,u){var t=!0;return"change"===n&&(t=!1!==l.component.onPuzzleSelectToggle(l.context.$implicit.puzzle,u.target.checked)&&t),t},null,null)),(l()(),t.pb(16,0,null,null,2,"label",[["class","custom-control-label"]],[[8,"htmlFor",0]],null,null,null,null)),(l()(),t.pb(17,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0432\u044b\u0431\u0440\u0430\u0442\u044c"]))],function(l,n){var u=n.component,t=l(n,3,0,n.context.$implicit.fen,!0,!1);l(n,2,0,173,t),l(n,10,0,n.context.$implicit.puzzle.puzzleType==u.PuzzleType.Standard),l(n,12,0,n.context.$implicit.puzzle.puzzleType==u.PuzzleType.FindAllChecks)},function(l,n){var u=n.component;l(n,8,0,n.context.$implicit.puzzle.description),l(n,15,0,t.rb(1,"customCheck",n.context.index,""),u.isSelected(n.context.$implicit.puzzle)),l(n,16,0,t.rb(1,"customCheck",n.context.index,""))})}function Cn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","card-columns"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,kn)),t.ob(2,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.selectablePuzzles)},null)}function yn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0437\u0430\u0434\u0430\u0447: ",""]))],null,function(l,n){l(n,1,0,n.component.selectedPuzzles.length)})}function xn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,4,"div",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.pb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0412\u044b\u0431\u043e\u0440 \u0437\u0430\u0434\u0430\u0447"])),(l()(),t.pb(4,0,null,null,1,"div",[["class","small"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u0442\u044c\u0442\u0435 \u0433\u0430\u043b\u043e\u0447\u043a\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"])),(l()(),t.pb(6,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,mn)),t.ob(8,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(9,0,null,null,1,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(l,n,u){var t=!0;return"pageChange"===n&&(t=!1!==l.component.onPageChange(u)&&t),t},fn.e,fn.c)),t.ob(10,573440,null,0,k.y,[k.z],{collectionSize:[0,"collectionSize"],pageSize:[1,"pageSize"]},{pageChange:"pageChange"}),(l()(),t.hb(16777216,null,null,1,null,Cn)),t.ob(12,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(13,0,null,null,10,"div",[["class","modal-footer d-block"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,2,"div",[["class","col-auto mr-auto"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,yn)),t.ob(17,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(18,0,null,null,5,"div",[["class","col-auto"]],null,null,null,null,null)),(l()(),t.pb(19,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onCancelClick()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(l()(),t.Hb(-1,null,["\xa0 "])),(l()(),t.pb(22,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.onOkClick()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"]))],function(l,n){var u=n.component;l(n,8,0,u.isLoading),l(n,10,0,u.totalRecords,8),l(n,12,0,!u.isLoading),l(n,17,0,u.selectedPuzzles.length>0)},null)}function Pn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-search-puzzles-modal",[],null,null,null,xn,hn)),t.ob(1,114688,null,0,Kl,[k.d,el.a,N.a],null,null)],function(l,n){l(n,1,0)},null)}var In=t.lb("app-search-puzzles-modal",Kl,Pn,{forClassId:"forClassId"},{},[]),Sn=t.nb({encapsulation:0,styles:[[""]],data:{}});function wn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"]))],null,null)}function Mn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,wn)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.name.errors.required)},null)}function Fn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.zb(l,2).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,2).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.onSubmit()&&e),e},null,null)),t.ob(1,16384,null,0,h.w,[],null,null),t.ob(2,540672,[["ngForm",4]],0,h.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,h.b,null,[h.h]),t.ob(4,16384,null,0,h.n,[[4,h.b]],null,null),(l()(),t.pb(5,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"div",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430"])),(l()(),t.pb(9,0,null,null,12,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,1,"label",[["for","classNameEl"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 *"])),(l()(),t.pb(12,0,null,null,7,"input",[["class","form-control"],["formControlName","name"],["id","classNameEl"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.zb(l,13)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.zb(l,13).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.zb(l,13)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.zb(l,13)._compositionEnd(u.target.value)&&e),e},null,null)),t.ob(13,16384,null,0,h.c,[t.E,t.k,[2,h.a]],null,null),t.ob(14,16384,null,0,h.s,[],{required:[0,"required"]},null),t.Eb(1024,null,h.j,function(l){return[l]},[h.s]),t.Eb(1024,null,h.k,function(l){return[l]},[h.c]),t.ob(17,671744,null,0,h.f,[[3,h.b],[6,h.j],[8,null],[6,h.k],[2,h.y]],{name:[0,"name"]},null),t.Eb(2048,null,h.l,null,[h.f]),t.ob(19,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),t.hb(16777216,null,null,1,null,Mn)),t.ob(21,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(22,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.pb(23,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.activeModal.dismiss()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(l()(),t.pb(25,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"]))],function(l,n){var u=n.component;l(n,2,0,u.form),l(n,14,0,""),l(n,17,0,"name"),l(n,21,0,t.zb(n,2).submitted&&u.name.invalid)},function(l,n){l(n,0,0,t.zb(n,4).ngClassUntouched,t.zb(n,4).ngClassTouched,t.zb(n,4).ngClassPristine,t.zb(n,4).ngClassDirty,t.zb(n,4).ngClassValid,t.zb(n,4).ngClassInvalid,t.zb(n,4).ngClassPending),l(n,12,0,t.zb(n,14).required?"":null,t.zb(n,19).ngClassUntouched,t.zb(n,19).ngClassTouched,t.zb(n,19).ngClassPristine,t.zb(n,19).ngClassDirty,t.zb(n,19).ngClassValid,t.zb(n,19).ngClassInvalid,t.zb(n,19).ngClassPending)})}function Hn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-create-class-modal",[],null,null,null,Fn,Sn)),t.ob(1,114688,null,0,m,[k.d,f],null,null)],function(l,n){l(n,1,0)},null)}var On=t.lb("app-create-class-modal",m,Hn,{},{},[]),Jn=t.nb({encapsulation:0,styles:[[""]],data:{}});function Tn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"]))],null,null)}function Nn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Tn)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.firstName.errors.required)},null)}function $n(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"]))],null,null)}function An(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,$n)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.lastName.errors.required)},null)}function En(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.zb(l,2).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,2).onReset()&&e),"ngSubmit"===n&&(e=!1!==i.onSubmit()&&e),e},null,null)),t.ob(1,16384,null,0,h.w,[],null,null),t.ob(2,540672,[["ngForm",4]],0,h.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,h.b,null,[h.h]),t.ob(4,16384,null,0,h.n,[[4,h.b]],null,null),(l()(),t.pb(5,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,2,"div",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Hb(8,null,['\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0432 "','"'])),(l()(),t.pb(9,0,null,null,26,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,1,"label",[["for","firstNameEl"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0418\u043c\u044f *"])),(l()(),t.pb(13,0,null,null,7,"input",[["class","form-control"],["formControlName","firstName"],["id","firstNameEl"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.zb(l,14)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.zb(l,14).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.zb(l,14)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.zb(l,14)._compositionEnd(u.target.value)&&e),e},null,null)),t.ob(14,16384,null,0,h.c,[t.E,t.k,[2,h.a]],null,null),t.ob(15,16384,null,0,h.s,[],{required:[0,"required"]},null),t.Eb(1024,null,h.j,function(l){return[l]},[h.s]),t.Eb(1024,null,h.k,function(l){return[l]},[h.c]),t.ob(18,671744,null,0,h.f,[[3,h.b],[6,h.j],[8,null],[6,h.k],[2,h.y]],{name:[0,"name"]},null),t.Eb(2048,null,h.l,null,[h.f]),t.ob(20,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),t.hb(16777216,null,null,1,null,Nn)),t.ob(22,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(23,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.pb(24,0,null,null,1,"label",[["for","lastNameEl"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0424\u0430\u043c\u0438\u043b\u0438\u044f *"])),(l()(),t.pb(26,0,null,null,7,"input",[["class","form-control"],["formControlName","lastName"],["id","lastNameEl"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.zb(l,27)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.zb(l,27).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.zb(l,27)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.zb(l,27)._compositionEnd(u.target.value)&&e),e},null,null)),t.ob(27,16384,null,0,h.c,[t.E,t.k,[2,h.a]],null,null),t.ob(28,16384,null,0,h.s,[],{required:[0,"required"]},null),t.Eb(1024,null,h.j,function(l){return[l]},[h.s]),t.Eb(1024,null,h.k,function(l){return[l]},[h.c]),t.ob(31,671744,null,0,h.f,[[3,h.b],[6,h.j],[8,null],[6,h.k],[2,h.y]],{name:[0,"name"]},null),t.Eb(2048,null,h.l,null,[h.f]),t.ob(33,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),t.hb(16777216,null,null,1,null,An)),t.ob(35,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(36,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.pb(37,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.activeModal.dismiss()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(l()(),t.pb(39,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"]))],function(l,n){var u=n.component;l(n,2,0,u.form),l(n,15,0,""),l(n,18,0,"firstName"),l(n,22,0,t.zb(n,2).submitted&&u.firstName.invalid),l(n,28,0,""),l(n,31,0,"lastName"),l(n,35,0,t.zb(n,2).submitted&&u.lastName.invalid)},function(l,n){var u=n.component;l(n,0,0,t.zb(n,4).ngClassUntouched,t.zb(n,4).ngClassTouched,t.zb(n,4).ngClassPristine,t.zb(n,4).ngClassDirty,t.zb(n,4).ngClassValid,t.zb(n,4).ngClassInvalid,t.zb(n,4).ngClassPending),l(n,8,0,u.className),l(n,13,0,t.zb(n,15).required?"":null,t.zb(n,20).ngClassUntouched,t.zb(n,20).ngClassTouched,t.zb(n,20).ngClassPristine,t.zb(n,20).ngClassDirty,t.zb(n,20).ngClassValid,t.zb(n,20).ngClassInvalid,t.zb(n,20).ngClassPending),l(n,26,0,t.zb(n,28).required?"":null,t.zb(n,33).ngClassUntouched,t.zb(n,33).ngClassTouched,t.zb(n,33).ngClassPristine,t.zb(n,33).ngClassDirty,t.zb(n,33).ngClassValid,t.zb(n,33).ngClassInvalid,t.zb(n,33).ngClassPending)})}function Ln(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-add-pupil-to-class-modal",[],null,null,null,En,Jn)),t.ob(1,114688,null,0,z,[k.d,g.a],null,null)],function(l,n){l(n,1,0)},null)}var Dn=t.lb("app-add-pupil-to-class-modal",z,Ln,{},{},[]),qn=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),Kn=t.nb({encapsulation:0,styles:[[""]],data:{}});function _n(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,0,"div",[["style","width: 100%; height: 100%"]],[[8,"className",0]],null,null,null,null))],null,function(l,n){var u=n.component;l(n,0,0,t.rb(2,"d-inline-block b-piece b-piece_",u.color," b-piece_",u.piece,""))})}var Rn=u("Y7vd"),jn=function(){function l(l){this.cdRef=l,this.pieces=["king","queen","rook","bishop","knight","pawn"],this.editorInitialized=new t.m}return l.prototype.ngOnInit=function(){this.cgConfig={fen:"8/8/8/8/8/8/8/8",movable:{free:!0,color:"both"},premovable:{enabled:!1},drawable:{enabled:!0},draggable:{showGhost:!0,distance:0,autoDistance:!1,deleteOnDropOff:!0,centerPiece:!0},selectable:{enabled:!1},highlight:{lastMove:!1},resizable:!0}},l.prototype.onCgInitialized=function(l){this.cg=l,this.pieceSize=(l.state.dom.bounds().width/8).toString(),this.cdRef.detectChanges(),this.editorInitialized.emit(l)},l.prototype.pieceMouseDown=function(l,n,u){l.preventDefault(),Object(Rn.dragNewPiece)(this.cg.state,{color:n,role:u,promoted:!1},l,!0)},l.prototype.ngOnDestroy=function(){this.cdRef.detach()},l}(),Bn=t.nb({encapsulation:0,styles:[[""]],data:{}});function Gn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-cg-piece",[["class","d-inline-block"],["style","position: relative;"]],[[4,"width","px"],[4,"height","px"]],[[null,"mousedown"]],function(l,n,u){var t=!0;return"mousedown"===n&&(t=!1!==l.component.pieceMouseDown(u,l.parent.context.$implicit,l.context.$implicit)&&t),t},_n,Kn)),t.ob(1,114688,null,0,qn,[],{color:[0,"color"],piece:[1,"piece"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit,n.context.$implicit)},function(l,n){var u=n.component;l(n,0,0,u.pieceSize,u.pieceSize)})}function Vn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-pure-chessground",[],null,[[null,"initialized"]],function(l,n,u){var t=!0;return"initialized"===n&&(t=!1!==l.component.onCgInitialized(u)&&t),t},H.b,H.a)),t.ob(1,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},{initialized:"initialized"})],function(l,n){var u=n.component;l(n,1,0,u.sizePx,u.cgConfig)},null)}function Un(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,3,"div",[["class","text-center"],["style","background-color:antiquewhite;"]],[[4,"height","px"]],null,null,null,null)),t.ob(2,278528,null,0,r.j,[t.t,t.u,t.k,t.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t.hb(16777216,null,null,1,null,Gn)),t.ob(4,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.hb(16777216,null,null,1,null,Vn)),t.ob(6,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,"text-center",n.context.first?"mb-3":"mt-3"),l(n,4,0,u.pieces),l(n,6,0,n.context.first)},function(l,n){l(n,1,0,n.component.pieceSize)})}function Zn(l){return t.Jb(0,[(l()(),t.hb(16777216,null,null,2,null,Un)),t.ob(1,278528,null,0,r.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null),t.Ab(2,2)],function(l,n){var u=l(n,2,0,"black","white");l(n,1,0,u)},null)}var Xn=t.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}"]],data:{}});function Yn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-cg-board-editor",[],null,[[null,"editorInitialized"]],function(l,n,u){var t=!0;return"editorInitialized"===n&&(t=!1!==l.component.onEditorInitialized(u)&&t),t},Zn,Bn)),t.ob(1,245760,null,0,jn,[t.h],{sizePx:[0,"sizePx"]},{editorInitialized:"editorInitialized"})],function(l,n){l(n,1,0,300)},null)}function Wn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-pure-chessground",[],null,[[null,"initialized"]],function(l,n,u){var t=!0;return"initialized"===n&&(t=!1!==l.component.onRecorderInitialized(u)&&t),t},H.b,H.a)),t.ob(1,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},{initialized:"initialized"})],function(l,n){l(n,1,0,300,n.component.recorderCgConfig)},null)}function Qn(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"app-pure-chessground",[["class","mb-3"]],null,[[null,"initialized"]],function(l,n,u){var t=!0;return"initialized"===n&&(t=!1!==l.component.onRecorderInitialized(u)&&t),t},H.b,H.a)),t.ob(2,13287424,null,0,O.a,[t.k,t.h],{sizePx:[0,"sizePx"],config:[1,"config"]},{initialized:"initialized"}),(l()(),t.pb(3,0,null,null,1,"app-chess-move-list",[],null,null,null,M.b,M.a)),t.ob(4,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"]},null)],function(l,n){var u=n.component;l(n,2,0,300,u.recorderCgConfig),l(n,4,0,u.recorderMoves,u.recorderBlackStartsGame)},null)}function lu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0428\u0430\u0433 1"])),(l()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0412\u044b\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0443\u044e \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0437\u0430\u0434\u0430\u0447\u0438"]))],null,null)}function nu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"button",[["class","btn btn-sm"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cancelLastRecorderMove()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0445\u043e\u0434"]))],null,null)}function uu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0428\u0430\u0433 2"])),(l()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u0440\u043e\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0445\u043e\u0434\u044b \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438. \u0425\u043e\u0434\u044b \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u044b"])),(l()(),t.pb(5,0,null,null,1,"app-chess-move-list",[["class","d-block mb-2"]],null,null,null,M.b,M.a)),t.ob(6,114688,null,0,F.a,[],{moves:[0,"moves"],blackIsFirst:[1,"blackIsFirst"]},null),(l()(),t.hb(16777216,null,null,1,null,nu)),t.ob(8,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,6,0,u.recorderMoves,u.recorderBlackStartsGame),l(n,8,0,u.recorderMoves.length>0)},null)}function tu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"]))],null,null)}function eu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,tu)),t.ob(2,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.puzzleDescr.errors.required)},null)}function iu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0428\u0430\u0433 3"])),(l()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"])),(l()(),t.pb(5,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,7,"textarea",[["class","form-control"],["formControlName","puzzleDescr"],["placeholder","\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0431\u0435\u043b\u044b\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u0438 \u0441\u0442\u0430\u0432\u044f\u0442 \u043c\u0430\u0442 \u0432 2 \u0445\u043e\u0434\u0430"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.zb(l,7)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.zb(l,7).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.zb(l,7)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.zb(l,7)._compositionEnd(u.target.value)&&e),e},null,null)),t.ob(7,16384,null,0,h.c,[t.E,t.k,[2,h.a]],null,null),t.ob(8,16384,null,0,h.s,[],{required:[0,"required"]},null),t.Eb(1024,null,h.j,function(l){return[l]},[h.s]),t.Eb(1024,null,h.k,function(l){return[l]},[h.c]),t.ob(11,671744,null,0,h.f,[[3,h.b],[6,h.j],[8,null],[6,h.k],[2,h.y]],{name:[0,"name"]},null),t.Eb(2048,null,h.l,null,[h.f]),t.ob(13,16384,null,0,h.m,[[4,h.l]],null,null),(l()(),t.hb(16777216,null,null,1,null,eu)),t.ob(15,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,8,0,""),l(n,11,0,"puzzleDescr"),l(n,15,0,u.puzzleDescr.invalid&&(u.puzzleDescr.dirty||u.puzzleDescr.touched))},function(l,n){l(n,6,0,t.zb(n,8).required?"":null,t.zb(n,13).ngClassUntouched,t.zb(n,13).ngClassTouched,t.zb(n,13).ngClassPristine,t.zb(n,13).ngClassDirty,t.zb(n,13).ngClassValid,t.zb(n,13).ngClassInvalid,t.zb(n,13).ngClassPending)})}function ou(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,19,"div",[["class","d-flex mb-3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.zb(l,1).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,1).onReset()&&e),e},null,null)),t.ob(1,540672,null,0,h.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,h.b,null,[h.h]),t.ob(3,16384,null,0,h.n,[[4,h.b]],null,null),(l()(),t.pb(4,0,null,null,6,"div",[["class","d-inline-block mr-4"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,Yn)),t.ob(6,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,Wn)),t.ob(8,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,Qn)),t.ob(10,16384,null,0,r.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(11,0,null,null,8,"div",[["class","flex-grow-1"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,7,"div",[["class","mb-2"]],null,null,null,null,null)),t.ob(13,16384,null,0,r.o,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.hb(16777216,null,null,1,null,lu)),t.ob(15,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,uu)),t.ob(17,278528,null,0,r.p,[t.P,t.M,r.o],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.hb(16777216,null,null,1,null,iu)),t.ob(19,16384,null,0,r.q,[t.P,t.M,r.o],null,null)],function(l,n){var u=n.component;l(n,1,0,u.formGroup),l(n,6,0,1==u.stepNumber),l(n,8,0,2==u.stepNumber),l(n,10,0,u.stepNumber>=3),l(n,13,0,u.stepNumber),l(n,15,0,1),l(n,17,0,2)},function(l,n){l(n,0,0,t.zb(n,3).ngClassUntouched,t.zb(n,3).ngClassTouched,t.zb(n,3).ngClassPristine,t.zb(n,3).ngClassDirty,t.zb(n,3).ngClassValid,t.zb(n,3).ngClassInvalid,t.zb(n,3).ngClassPending)})}var ru=t.nb({encapsulation:0,styles:[[""]],data:{}});function su(l){return t.Jb(0,[t.Fb(402653184,1,{wizard:0}),(l()(),t.pb(1,0,null,null,19,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.zb(l,3).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,3).onReset()&&e),e},null,null)),t.ob(2,16384,null,0,h.w,[],null,null),t.ob(3,540672,[["ngForm",4]],0,h.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,h.b,null,[h.h]),t.ob(5,16384,null,0,h.n,[[4,h.b]],null,null),(l()(),t.pb(6,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.pb(7,0,null,null,2,"div",[["class","modal-title"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"])),(l()(),t.pb(10,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,4,"app-create-puzzle-wizard",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"puzzleCreated"],[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0,i=l.component;return"submit"===n&&(e=!1!==t.zb(l,12).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.zb(l,12).onReset()&&e),"puzzleCreated"===n&&(e=!1!==i.onPuzzleCreated(u)&&e),e},ou,Xn)),t.ob(12,540672,null,0,h.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,h.b,null,[h.h]),t.ob(14,16384,null,0,h.n,[[4,h.b]],null,null),t.ob(15,9027584,[[1,4]],0,Ll,[N.a],{stepNumber:[0,"stepNumber"],formGroup:[1,"formGroup"]},{puzzleCreated:"puzzleCreated"}),(l()(),t.pb(16,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),t.pb(17,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.activeModal.dismiss()&&t),t},null,null)),(l()(),t.Hb(-1,null,["\u041e\u0442\u043c\u0435\u043d\u0430"])),(l()(),t.pb(19,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goToNextStep()&&t),t},null,null)),(l()(),t.Hb(20,null,["",""]))],function(l,n){var u=n.component;l(n,3,0,u.form),l(n,12,0,u.form),l(n,15,0,u.wizardStep,u.form)},function(l,n){var u=n.component;l(n,1,0,t.zb(n,5).ngClassUntouched,t.zb(n,5).ngClassTouched,t.zb(n,5).ngClassPristine,t.zb(n,5).ngClassDirty,t.zb(n,5).ngClassValid,t.zb(n,5).ngClassInvalid,t.zb(n,5).ngClassPending),l(n,11,0,t.zb(n,14).ngClassUntouched,t.zb(n,14).ngClassTouched,t.zb(n,14).ngClassPristine,t.zb(n,14).ngClassDirty,t.zb(n,14).ngClassValid,t.zb(n,14).ngClassInvalid,t.zb(n,14).ngClassPending),l(n,20,0,u.wizardStep<3?"\u0414\u0430\u043b\u0435\u0435":"\u0413\u043e\u0442\u043e\u0432\u043e")})}function cu(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-create-puzzle-modal",[],null,null,null,su,ru)),t.ob(1,114688,null,0,ql,[k.d,Dl],null,null)],function(l,n){l(n,1,0)},null)}var au=t.lb("app-create-puzzle-modal",ql,cu,{},{},[]),pu=function(){function l(l,n){this.authService=l,this.router=n}return l.prototype.canActivate=function(l,n){return this.checkLogin(n.url)},l.prototype.checkLogin=function(l){return!!this.authService.isLoggedIn||(this.authService.redirectUrl=l,this.router.navigate(["/login"]),!1)},l.ngInjectableDef=t.T({factory:function(){return new l(t.X(tl.a),t.X(o.k))},token:l,providedIn:"root"}),l}(),bu=function(){return function(){}}(),du=u("PCNd");u.d(n,"TeacherModuleNgFactory",function(){return fu});var fu=t.mb(e,[],function(l){return t.wb([t.xb(512,t.j,t.cb,[[8,[i.a,b,w,Y,Sl,Al,ln,rn,dn,fn.a,fn.b,fn.k,fn.g,fn.h,fn.i,fn.j,In,On,Dn,au]],[3,t.j],t.y]),t.xb(4608,r.n,r.m,[t.v,[2,r.D]]),t.xb(4608,h.x,h.x,[]),t.xb(4608,h.d,h.d,[]),t.xb(4608,k.u,k.u,[t.j,t.r,k.V,k.v]),t.xb(1073742336,r.b,r.b,[]),t.xb(1073742336,o.m,o.m,[[2,o.s],[2,o.k]]),t.xb(1073742336,bu,bu,[]),t.xb(1073742336,h.v,h.v,[]),t.xb(1073742336,h.i,h.i,[]),t.xb(1073742336,h.r,h.r,[]),t.xb(1073742336,k.c,k.c,[]),t.xb(1073742336,k.g,k.g,[]),t.xb(1073742336,k.h,k.h,[]),t.xb(1073742336,k.l,k.l,[]),t.xb(1073742336,k.m,k.m,[]),t.xb(1073742336,k.r,k.r,[]),t.xb(1073742336,k.s,k.s,[]),t.xb(1073742336,k.w,k.w,[]),t.xb(1073742336,k.A,k.A,[]),t.xb(1073742336,k.B,k.B,[]),t.xb(1073742336,k.E,k.E,[]),t.xb(1073742336,k.H,k.H,[]),t.xb(1073742336,k.N,k.N,[]),t.xb(1073742336,k.R,k.R,[]),t.xb(1073742336,k.S,k.S,[]),t.xb(1073742336,k.T,k.T,[]),t.xb(1073742336,k.x,k.x,[]),t.xb(1073742336,du.a,du.a,[]),t.xb(1073742336,e,e,[]),t.xb(1024,o.i,function(){return[[{path:"",component:s,canActivate:[pu],children:[{path:"",redirectTo:"classes",pathMatch:"full"},{path:"classes",component:v},{path:"classes/:id",component:L},{path:"classes/:classId/homeworks/:homeworkId/puzzles/:puzzleId",component:il},{path:"pupils/:id",component:Fl},{path:"classes/:id/add-homework",component:_l},{path:"puzzles",component:nn}]},{path:"print-codes",component:sn,canActivate:[pu]}]]},[])])})}}]);